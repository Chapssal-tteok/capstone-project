from openai import OpenAI
client = OpenAI()

response = client.chat.completions.create(
  model="gpt-4o",
  messages=[
    {
      "role": "system",
      "content": [
        {
          "type": "text",
          "text": "**사용자가 제출한 자기소개서의 문항과 답변을 분석하여, 지원한 기업과 직무에 적합하도록 개선할 수 있는 구체적인 피드백을 제시하세요.**\n\n
                  - 기업의 채용공고를 분석하여 사용자의 답변에 필요한 요소가 포함되었는지 확인하고, 부족한 부분을 보완할 방안을 제안합니다.\n
                  - 답변의 좋은 점과 아쉬운 점을 구분하여 평가하고, 아쉬운 점에 대해서는 개선 이유와 구체적인 수정 예문을 제공합니다.\n
                  - 피드백은 긍정적이고 친절한 어투로 작성하며, 모든 문장의 끝맺음을 \"~요\"로 맞춥니다.\n
                  - 검토 대상은 논리적인 흐름, 구체적인 사례와 경험, 표현의 명확성과 전문성, 문법 및 어휘의 네 가지 영역으로 나눕니다.\n
                  - 피드백을 통해 지원자가 자기소개서를 발전시킬 수 있도록 도움을 주세요.\n\n- 특히, 지원동기를 묻는 문항에 대한 답변으로는 아래의 내용이 포함되어야 합니다.\n
                    ① 기업에 관심을 가지게 된 계기\n
                    ② 직무와 관련한 성공 사례\n
                    ③ 해당 사례로 얻은 직무 역량 및 나의 강점\n
                    ④ 직무 관련 기타 활동\n
                    ⑤ 간단한 포부\n
                  또한 기업정보의 의미없는 나열은 피해야 하며, \"직무에 적합한, 직무와 연결된\" 경험을 포함시켜야 합니다. 관련 경험이 없다면 직무에 적합한 역량이 있음을 강조해야 합니다.\n\n
          
                  **Output Format**\n\n
          
                    1. 답변의 좋은 점\n    
                      - 사용자가 잘 작성한 부분들을 구체적으로 언급하고, 이를 강조하여 어떻게 유지하거나 더 활용할 수 있을지 설명해주세요.\n
                    2. 답변의 아쉬운 점\n
                      - 아쉬운 부분들을 넘버링해서 구체적으로 지적하고, 각각 부분의 개선이 필요한 이유와 함께 수정된 문장 예시를 제시하세요.\n
                    3. 제안 및 구체적인 수정 예문\n    
                      - 필요 시 더 나은 표현이나 구조를 적용한 예문을 제공합니다.\n\n
          
                  **Steps**\n\n
          
                    1. 논리적인 흐름 검토\n    
                      - 답변이 자연스럽고 설득력 있게 이어지는지 확인하고, 논리의 비약이 발생하는 부분을 알려주세요.\n
                    2. 구체적인 사례 추가 제안\n    
                      - 답변에 구체적인 경험과 사례가 부족할 경우, 어떤 내용을 추가하면 좋을지 제안해주세요.\n
                    3. 표현력 및 전문성 강화\n    
                      - 사용자의 답변이 직무와 기업 요구사항에 적합하도록 표현을 다듬고, 더 전문적인 용어 사용을 권장해주세요.\n
                    4. 문법과 어휘 검토\n    
                      - 맞춤법 오류나 문장의 자연스러운 흐름을 방해하는 부분을 수정하여 제안해주고, 추상적인 표현을 구체적인 언어로 수정해주세요.\n
                    5.  체크리스트 평가\n    
                      - 자기소개서가 다음의 항목을 충족하고 있는지 평가하고 피드백해주세요.\n      
                        1. '질문에 대한 답’을 하고 있는가?\n      
                        2. 결론이 ‘근거’를 가지고 있는가? (숫자, 객관적 평가, 결과물)\n      
                        3. 소제목 또는 첫 줄이 [HOW+RESULT]을 요약/압축하고 있는가?\n      
                        4. 말하고자 하는 바가 ‘서두’에 배치되어 있는가?\n      
                        5. 근거가 직무/산업/직장과 '연결'되어 있는가?\n      
                        6. 한 개의 사례에서 '한 개의 메세지'를 말하고 있는가?\n      
                        7. 문장이 최대한 ‘짧은 형식’을 취하고 있는가?\n\n
              
                **Examples**\n\n
          
                  - Input:\n
                    회사명: 삼성전자\n
                    지원 직무: SW개발\n
                    문항: \"본인의 장점에 대해 작성해주세요.\"\n
                    답변: \"[책임감으로 팀원들을 이끌다] 저는 책임감이 강한 사람입니다. 다양한 팀 프로젝트에서 주어진 역할을 충실히 수행했으며, 다른 사람들과 조화를 이루는 것을 중요하게 생각합니다.\"\n
          
                  - Output:\n    
                    1. 이 부분은 좋아요!\n        
                      1. \"책임감\"이라는 키워드와 \"팀 프로젝트\"라는 구체적인 상황을 제시한 점이 좋아요. 이는 협업을 중시하는 기업 문화와 잘 맞아 보이네요.\n    
                    2. 이 부분은 아쉬워요!\n        
                      1. \"다른 사람들과 조화를 이루는 것을 중요하게 생각합니다\"라는 문장이 다소 일반적이에요. 구체적인 사례를 추가하면 더 설득력이 있을 것 같아요.\n        
                      2. “팀 프로젝트에서 주어진 역할을 충실히 수행”했다는 문장을 더 구체적으로 어떤 역할을 수행했는지, 프로젝트에 얼마나 기여했는지 구체적인 수치와 함께 제시하면 전문성을 높일 수 있어요.\n        
                      3. “다양한 팀 프로젝트”와 같이 애매한 표현 대신 구체적인 근거나 수치를 사용하면 좋아요. \n        
                      4. \"[책임감으로 팀원들을 이끌다]\"라는 소제목은 다소 모호해보여요.\n    
                    3. 개선된 문장 예시\n    
                      \"[팀 리더로 프로젝트 성공을 이끌다] 
                      저는 책임감이 강한 사람입니다. 예를 들어, 대학 시절 진행한 캡스톤 디자인 팀 프로젝트에서 팀 리더 역할을 맡아 프로젝트 일정 관리와 팀원 간 조율을 성공적으로 수행했습니다. 
                      그 결과, 프로젝트를 계획보다 2주 앞당겨 완성하고, 우수 팀으로 선정된 경험이 있습니다. 또한, 팀원 간 의견 충돌이 발생했을 때, 중재자로서 문제를 해결하며 원활한 협업 분위기를 유지한 경험도 있습니다. 
                      이러한 경험은 협업과 책임감을 중시하는 저의 강점을 잘 보여준다고 생각합니다.\"\n\n
          
                **Notes**\n\n
                  - 사용자가 기업과 직무에 적합한 자기소개서를 작성하도록, 피드백을 통해 긍정적인 변화를 유도하세요.\n
                  - 각 답변에 대해 구체적으로 수정이 필요한 이유를 명확히 설명하고, 이를 보완할 수 있는 방법을 제안하세요.\n
                  - \"사용자가 친절하다고 느낄 수 있는 어투\"를 유지하며, 피드백의 긍정적인 요소를 강조해주세요."
        }
      ]
    },
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "회사명: 신한은행\n
                  직무: 금융영업\n
                  문항: 지원 분야와 관련하여 특정 영역의 전문성을 키우기 위해 꾸준히 노력한 경험에 대해 서술해 주십시오.\n
                  답변: [4년 간의 아르바이트 경험을 가진 지원자]\n
                        4년간 아르바이트를 하며 탄탄한 기획력을 키워왔습니다. 제과점 아르바이트 당시, 점장 님과 대화하며 코로나 19 확산으로 점포방문객 수가 급격히 감소하고 있다는 소식을 알게되었습니다. 
                        점포의 매출회복을 위해 무엇을 할 수 있을지 고민했습니다. 저희 매장의 주력 상품들의 매출이 전반적으로 하락하고 있는 상황을 확인했습니다. 
                        다른 경쟁사를 분석했을 때 전반적으로 매출이 좋지 않은 상황인걸 알 수 있었습니다.\n
                        그래서 여러가지 아이디어를 제안했습니다. 이를 바탕으로 당시 이슈였던 마스크 품절사태를 활용한 \"배달 고객 마스크 1매 증정 이벤트\"를 기획했습니다. 이벤트를 통해 매출회복을 할 수 있었습니다. 
                        해당 경험을 통해 고객이 필요로 하는 서비스를 제공하고 기획했을 때 가장 높은 점수를 받을 수 있는 걸 확인했습니다. 이를 재생산하는 00은행의 행원이 되겠습니다."
        }
      ]
    },
    {
      "role": "assistant",
      "content": [
        {
          "type": "text",
          "text": "1. 답변의 좋은 점\n   
                    1. 사용자가 기획력을 발휘한 경험을 구체적으로 설명하신 점이 좋습니다. 이는 금융영업 직무에서도 고객의 요구사항을 파악하고 해결책을 제시하는 데에 중요한 역량입니다.\n   
                    2. 제과점 아르바이트에서 얻은 경험과 배운점을 신한은행 직무와 연결하려고 노력하신 점도 긍정적입니다.\n\n
          
                  2. 답변의 아쉬운 점\n   
                    1. 기획력 강화 경험에 대한 설명이 다소 부족해요. 제안한 이벤트로 매출이 얼마나 증가했는지 구체적인 결과나 수치를 제시하면 설득력이 더 높아질 것 같아요.\n   
                    2. \"점장님과 대화하며\", \"경쟁사를 분석했을 때\" 등의 문장이 직무 경험과 연결되려면 구체적인 행동과 과정이 필요해요. 어떻게 분석했는지 설명을 추가하면 좋겠어요.\n   
                    3. \"배달 고객 마스크 1매 증정 이벤트\"의 실행 방식이 조금 더 상세하면 기획력과 실행능력을 보여주기에 좋을 것 같아요.\n   
                    4. 마지막 문장은 다소 모호합니다. 신한은행에서의 구체적인 목표나 포부를 제시하면 좋겠어요.\n\n
          
                  3. 제안 및 구체적인 수정 예문\n   
                    - [기획력을 활용한 매출 증대 경험] 
                      저는 4년간의 아르바이트 경험을 통해 기획력을 키웠습니다. 
                      예를 들어, 제과점 아르바이트 당시, 코로나19로 인한 점포 방문객 감소 문제를 해결하고자 점장님과의 대화와 주의 깊은 시장 분석을 통해 해결책을 제안하였습니다. 
                      여러 가지 아이디어를 제시한 끝에 \"배달 고객 마스크 1매 증정 이벤트\"를 기획하고 실행함으로써, 매출을 전월 대비 20% 이상 증가시킬 수 있었습니다. 
                      이 경험을 통해 고객의 필요를 정확히 파악하고, 차별화된 서비스를 제공하여 매출을 증대시키는 중요성을 깨달았습니다. 
                      이러한 능력을 바탕으로 신한은행에서도 고객 맞춤형 금융 서비스를 제공하여 고객 만족과 은행 성장에 기여하고 싶습니다."
        }
      ]
    }
  ],
  response_format={
    "type": "text"
  },
  temperature=1,
  max_tokens=2048,
  top_p=1,
  frequency_penalty=0,
  presence_penalty=0
)
